// Admin Panel (Next Version with Creations Integration)

import React, { useState, useEffect } from 'react'; import { Card, CardContent } from '@/components/ui/card'; import { Button } from '@/components/ui/button'; import { Input } from '@/components/ui/input'; import { Textarea } from '@/components/ui/textarea';

const PASSWORD = 'foliobuilderadmin';

export default function AdminPanel() { const [authenticated, setAuthenticated] = useState(false); const [password, setPassword] = useState(''); const [creations, setCreations] = useState([]); const [title, setTitle] = useState(''); const [url, setUrl] = useState(''); const [requests, setRequests] = useState([]);

useEffect(() => { const storedAuth = localStorage.getItem('admin_auth'); if (storedAuth === 'true') setAuthenticated(true); }, []);

const handleLogin = () => { if (password === PASSWORD) { setAuthenticated(true); localStorage.setItem('admin_auth', 'true'); } else { alert('Incorrect password'); } };

const addCreation = () => { if (title && url) { const updatedCreations = [...creations, { title, url }]; setCreations(updatedCreations); localStorage.setItem('creations', JSON.stringify(updatedCreations)); setTitle(''); setUrl(''); } };

const acceptRequest = (id) => { // Simulate request acceptance alert(Request ID ${id} accepted. Email sent to user.); // Here you could use EmailJS or backend email notification };

if (!authenticated) { return ( <div className="p-6 max-w-sm mx-auto"> <Card> <CardContent className="space-y-4"> <h2 className="text-xl font-bold">Admin Login</h2> <Input type="password" placeholder="Enter Password" value={password} onChange={(e) => setPassword(e.target.value)} /> <Button onClick={handleLogin}>Login</Button> </CardContent> </Card> </div> ); }

return ( <div className="p-6 max-w-3xl mx-auto space-y-8"> <h1 className="text-2xl font-bold text-center">Admin Dashboard</h1>

<Card>
    <CardContent className="space-y-4">
      <h2 className="text-lg font-semibold">Add New Creation</h2>
      <Input
        placeholder="Portfolio Title"
        value={title}
        onChange={(e) => setTitle(e.target.value)}
      />
      <Input
        placeholder="Portfolio URL"
        value={url}
        onChange={(e) => setUrl(e.target.value)}
      />
      <Button onClick={addCreation}>Add Creation</Button>
    </CardContent>
  </Card>

  <Card>
    <CardContent className="space-y-4">
      <h2 className="text-lg font-semibold">User Requests</h2>
      {requests.length === 0 ? (
        <p>No requests yet.</p>
      ) : (
        requests.map((req, idx) => (
          <div key={idx} className="border p-2 rounded space-y-1">
            <p><strong>User:</strong> {req.name}</p>
            <p><strong>Email:</strong> {req.email}</p>
            <Button onClick={() => acceptRequest(idx)}>Accept Request</Button>
          </div>
        ))
      )}
    </CardContent>
  </Card>
</div>

); }

